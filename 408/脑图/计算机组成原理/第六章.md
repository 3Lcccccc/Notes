# 总线

## 系统总线的结构
- 单总线结构
- 双总线结构
  - 主存总线+I/O总线
- 三总线结构
  - 主存总线+I/O总线+DMA总线

## 性能指标
- 总线的传输周期：一次总线操作所需的时间，通常由若干总线时钟周期构成
- 总线时钟周期：机器的时钟周期
- 总线的工作频率：$\frac{时钟频率}{时钟周期数}$
- 总线的时钟频率：$\frac{1}{时钟周期}$
- 总线宽度
- 总线带宽:总线工作频率$\times$传输字节数
- 总线复用
- 信号线数

## 总线操作和定时

### 总线传输的4个阶段
- **申请分配阶段**:申请总线的使用权
- **寻址阶段**:发出本次要访问从设备的地址
- **传输阶段**
- **结束阶段**:让出总线使用权

### 同步定时方式
- 采用统一的时钟信号来控制
- **优点**:传送速度快,具有较高的传输速率,总线控制逻辑简单
- **缺点**:不能及时进行数据通信的有效性检验,可靠性较差
- 适合总线长度较短及总线所接部件的存取时间比较接近的系统

### 异步定时方式
- 完全依靠传送双方的"握手"信号
- 优点:总线周期长度可变
- 缺点:比同步控制方式复杂一些,速度慢
- 三种类型
  - 不互锁
    - 主设备发出"请求"信号,后过一段时间撤销.
  - 半互锁
    - 主设备发出信号后,需要等待从设备发出"回答"后才撤销,从设备的信号过一段时间撤销
  - 全互锁
    - 从设备的回答信号需要在主设备的信号撤销后才撤销